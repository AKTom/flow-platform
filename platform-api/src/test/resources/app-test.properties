## for flow api unit test env ##

### JDBC config ###
jdbc.url = jdbc:mysql://localhost:3306/flow_api_db_ut?useSSL=false&createDatabaseIfNotExist=true
jdbc.username = root
jdbc.password =
jdbc.pool.size = 10
jdbc.commit.auto = true
jdbc.connection.timeout = 20000

### Hibernate config ###
hibernate.show_sql = false
hibernate.hbm2ddl.auto = update

### api settings ###
api.workspace = /tmp/flow-api-ut
api.git.cache = /tmp/flow-api-ut/git-cache
api.git.workspace = /tmp/flow-api-ut/git-repos
api.local_file_resource.workspace = /tmp/flow-api-ut/local_file_resources
api.zone.default = default

### expiration duration of token, it's in millisecond ###
### 60000 = 60 * 1000 = 1 min (will expiration after one minute) ###
api.user.expire = 60000

## plugin setting
plugins.repository = https://raw.githubusercontent.com/yunheli/plugins/master/repository.json
api.run.indocker = false

### domain ###
domain.api = http://localhost:8080
domain.web = http://localhost:3000
domain.cc = http://localhost:8080

system.email = admin@flow.ci
system.username = admin
system.password = 123456

## flowci started success tip
jfiglet.message = FlowCi Started Success

task.job.toggle.execution_timeout = false
## 6s expire job
task.job.toggle.execution_create_session_duration = 6
## 1h expire job
task.job.toggle.execution_running_duration = 3600

### control center configuration
cc.workspace = /var/tmp/flow-api-ut/cc

### zookeeper config ###
zk.server.embedded = false
zk.host = 127.0.0.1:2181
zk.timeout = 5
zk.node.root = flow-agents

# zone names and cloud provider config, ex: a=xxx;b=xxx;c=xxx
zk.node.zone = test-zone-1;test-zone-2;test-mos-mac

### zone config depends on zk.node.zone ###
zone.test-mos-mac.cloud_provider = mos
zone.test-mos-mac.image_name = flow-osx-83-109-bj4-zk-agent
zone.test-mos-mac.min_pool_size = 2
zone.test-mos-mac.max_pool_size = 2
zone.test-mos-mac.num_of_start = 1
zone.test-mos-mac.agent_session_timeout = 600
zone.test-mos-mac.default_cmd_timeout = 600

### rabbitMQ config ###
mq.host = amqp://localhost:5672
mq.management.host = http://localhost:15672

#### cmd queue settings ###
queue.cmd.retry.enable = false
queue.cmd.rabbit.enable = false
queue.cmd.rabbit.name = flow-cmd-queue-default
queue.cmd.idle_agent.timeout = 0
queue.cmd.idle_agent.period = 5

### agent config ###
agent.config.ws = ws://localhost:8080
agent.config.cc = http://localhost:8080

### task toggles ###
task.zone.toggle.keep_idle_agent = false
task.agent.toggle.session_timeout = true
task.cmd.toggle.execution_timeout = true
task.instance.mos.toggle.clean = true
